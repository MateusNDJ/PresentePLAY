<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Playlist Romântica – Frank Ocean</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
    --accent: #ff5277;
}

body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Arial', sans-serif;
    overflow: hidden;
    background-image: url('background.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    position: relative;
}

.stage {
    position: relative;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

.center-panel {
    position: relative;
    z-index: 1; /* painel atrás do karaoke e fotos */
    width: 60%; /* Revertido para 60% ou ajuste conforme preferir */
    max-width: 800px; /* Max-width para o painel */
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
}

.center-panel h1 {
    color: #fff;
    font-size: 2rem;
    margin-bottom: 15px;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
}

/* Estilo do Karaokê sobreposto */
.karaoke-highlight {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 3rem; /* Tamanho da fonte grande */
    font-weight: bold;
    color: #fff;
    text-shadow: 0 0 15px var(--accent), 0 0 30px var(--accent);
    text-align: center;
    z-index: 5; /* Sobreposto a tudo */
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    pointer-events: none;
    max-width: 90%; /* Limita a largura para evitar quebras de linha muito longas */
    line-height: 1.2;
}

.karaoke-highlight.active {
    opacity: 1;
}

button.carousel-btn {
    background: var(--accent);
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin: 10px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
}
button.carousel-btn:hover {
    background: #ff7899;
}

/* Fotos flutuantes */
.photo-frame {
    position: absolute;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    animation: float 8s ease-in-out infinite alternate;
    z-index: 2; /* abaixo do karaoke */
    cursor: grab;
    border: 3px solid white;
}

.photo-frame.dragging {
    cursor: grabbing;
    animation: none;
    z-index: 3;
}

.photo-frame img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

@keyframes float {
    0% { transform: translateY(0px) rotate(0deg);}
    50% { transform: translateY(-15px) rotate(5deg);}
    100% { transform: translateY(0px) rotate(0deg);}
}

#ytPlayerContainer {
    position: relative;
    width: 100%; /* Ocupa a largura total do center-panel */
    padding-top: 56.25%; /* Proporção 16:9 */
    margin-bottom: 20px;
    border-radius: 16px;
    overflow: hidden;
    max-width: 640px; /* Largura máxima para o player, ajuste conforme seu gosto */
    height: auto; /* Altura automática para manter a proporção */
    margin-left: auto; /* Centraliza o player */
    margin-right: auto; /* Centraliza o player */
}
#ytPlayerContainer iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}
</style>
</head>
<body>

<div class="stage">
    <div class="center-panel" id="panel">
        <h1 id="songTitle"></h1>
        <div id="ytPlayerContainer"></div>
        <button class="carousel-btn" id="prevBtn">Anterior</button>
        <button class="carousel-btn" id="nextBtn">Próxima</button>
    </div>

    <div class="karaoke-highlight" id="karaokeHighlight"></div>

    <div class="photo-frame" style="top:10%; left:5%; width:120px; height:120px;"><img src="img/1.png"></div>
    <div class="photo-frame" style="top:20%; right:10%; width:140px; height:140px;"><img src="img/2.png"></div>
    <div class="photo-frame" style="bottom:15%; left:25%; width:130px; height:130px;"><img src="img/3.png"></div>
    <div class="photo-frame" style="bottom:10%; right:20%; width:110px; height:110px;"><img src="img/4.png"></div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
const vibes = [
    {
        title: "Thinkin Bout You",
        videoId: "RgsZvjENnm0",
        fullLyrics: [
            "A tornado flew around my room before you came",
            "Excuse the mess it made, it usually doesn't rain",
            "In Southern California, much like Arizona",
            "My eyes don't shed tears, but, boy,",
            "they pour when I'm thinkin' 'bout you",
            "",
            "(Ooh, no, no, no)",
            "I've been thinkin' 'bout you (You know, know, know)",
            "I've been thinkin' 'bout you",
            "Do you think about me still? Do ya, do ya?",
            "",
            "Or do you not think so far ahead?",
            "'Cause I been thinkin' 'bout forever (Oooh, oooh)",
            "",
            "No, I don't like you,",
            "I just thought you were cool enough to kick it",
            "Got a beach house I could sell you in Idaho",
            "Since you think I don't love you,",
            "I just thought you were cute",
            "That's why I kiss you",
            "Got a fighter jet, I don't get to fly it, though",
            "",
            "I'm lyin' down thinkin' 'bout you",
            "(Ooh, no, no, no)",
            "I've been thinkin' 'bout you",
            "(You know, know, know)",
            "I've been thinkin' 'bout you",
            "Do you think about me still?",
            "Do ya, do ya?",
            "",
            "Or do you not think so far ahead? (Ahead)",
            "'Cause I been thinkin' 'bout forever (Oooh, oooh)",
            "",
            "Yes, of course",
            "I remember, how could I forget?",
            "How you feel?",
            "And though you were my first time",
            "A new feel",
            "It won't ever get old, not in my soul",
            "Not in my spirit, keep it alive",
            "We'll go down this road",
            "'Til it turns from color to black and white",
            "",
            "Or do you not think so far ahead? (Ahead)",
            "'Cause I been thinkin' 'bout forever (Oooh, oooh)"
        ]
    },
    {
        title: "Pink + White",
        videoId: "uzS3WG6__G4",
        fullLyrics: [
            "Yeah, yeah, uh (woo!)",
            "Yeah, yeah, yeah",
            "",
            "That's the way every day goes",
            "Every time we've no control",
            "If the sky is pink and white",
            "If the ground is black and yellow",
            "It's the same way you showed me",
            "Nod my head, don't close my eyes",
            "Halfway on a slow move",
            "It's the same way you showed me",
            "If you could fly, then you'd feel south",
            "Up north's getting cold soon",
            "The way it is, we're on land",
            "Still I'm someone to hold true",
            "Keep you cool when it's still alive",
            "Won't let you down when it's all ruin",
            "",
            "Just the same way you showed me, showed me",
            "You showed me love",
            "Glory from above",
            "Regard, my dear",
            "It's all downhill from here",
            "",
            "In the wake of a hurricane",
            "Dark skin of a summer shade",
            "Nosedive into flood lines",
            "Tall tower of milk crates",
            "It's the same way you showed me",
            "Cannonball off the porch side",
            "Older kids trying off the roof",
            "Just the same way you showed me (You showed)",
            "If you could die and come back to life",
            "Up for air from the swimming pool",
            "You'd kneel down to the dry land",
            "Kiss the Earth that birthed you",
            "Gave you tools just to stay alive",
            "And make it out when the sun is ruined",
            "",
            "That's the same way you showed me, showed me",
            "You showed me love",
            "Glory from above",
            "Regard, my dear",
            "It's all downhill from here",
            "",
            "Remember life, remember how it was",
            "Climb trees, Michael Jackson, it all ends here",
            "Say what up to Matthew, to Shoob",
            "Say what up to Danny",
            "Say what up to life immortality",
            "Bending up my Nikes",
            "Running out the Melpomene, nicotine",
            "Stealing granny cigs (Take it easy)",
            "Gimme something sweet",
            "Bitch, I might like immortality",
            "This is life, life immortality"
        ]
    },
    {
        title: "Godspeed",
        videoId: "P18g4rKns6Q",
        fullLyrics: [
            "I will always love you",
            "How I do",
            "Let go of a prayer for you",
            "Just a sweet word",
            "The table is prepared for you",
            "Wishing you godspeed, glory",
            "There will be mountains you won't move",
            "Still, I'll always be there for you",
            "How I do",
            "I let go of my claim on you, it's a free world",
            "You look down on where you came from sometimes",
            "But you'll have this place to call home, always",
            "This love will keep us through blinding of the eyes (oh)",
            "Silence in the ears, darkness of the mind (until it's time)",
            "This love will keep us through blinding of the eyes (oh, oh-oh)",
            "Silence in the ears, darkness of the mind (oh, oh-oh, oh)",
            "This love will keep us through blinding of the eyes (oh, until it's time we die)",
            "Silence in the ears, darkness of the mind",
            "Hmm-oh-oh, oh, oh-oh",
            "I'll always love you until the time we die",
            "Oh-oh, hmm"
        ]
    }
];

let current = 0;
let lyricsIndex = 0; // Para controlar qual linha da letra está sendo exibida
let lyricsInterval;
let player;
let playerReady = false;

const songTitle = document.getElementById("songTitle");
const karaokeHighlight = document.getElementById("karaokeHighlight"); // De volta ao elemento de destaque

function onYouTubeIframeAPIReady() {
    playerReady = true;
    loadVibe(0);
}

function loadVibe(index) {
    current = (index + vibes.length) % vibes.length;
    const vibe = vibes[current];
    songTitle.textContent = vibe.title;
    
    // Limpa o destaque anterior e para o intervalo de letras
    karaokeHighlight.classList.remove("active");
    clearInterval(lyricsInterval);
    
    // Zera o índice da letra
    lyricsIndex = 0;

    // Se o player existe, o destrói para criar um novo
    if (player) {
        player.destroy();
    }
    
    // Cria uma nova instância do player do YouTube
    player = new YT.Player('ytPlayerContainer', {
        height: '315',
        width: '560',
        videoId: vibe.videoId,
        events: {
            'onStateChange': onPlayerStateChange
        }
    });
}

function onPlayerStateChange(event) {
    // Verifica se o vídeo está tocando (estado 1)
    if (event.data === YT.PlayerState.PLAYING) {
        // Inicia a exibição das letras apenas quando o vídeo é iniciado.
        displayKaraokeLyrics();
    } else {
        // Para a animação das letras se o vídeo for pausado, encerrado, etc.
        clearInterval(lyricsInterval);
        karaokeHighlight.classList.remove("active");
    }
}

function displayKaraokeLyrics() {
    const vibe = vibes[current];
    
    // Limpa qualquer intervalo de letras anterior
    clearInterval(lyricsInterval);

    // Zera o índice da letra ao iniciar a reprodução para esta música
    lyricsIndex = 0;

    const showNextLyricLine = () => {
        if (lyricsIndex < vibe.fullLyrics.length) {
            karaokeHighlight.classList.remove("active"); // Remove a classe para animar a saída
            setTimeout(() => {
                karaokeHighlight.textContent = vibe.fullLyrics[lyricsIndex];
                karaokeHighlight.classList.add("active"); // Adiciona a classe para animar a entrada
                lyricsIndex++;
            }, 500); // Pequeno atraso para a transição de fade
        } else {
            clearInterval(lyricsInterval); // Para o intervalo quando todas as linhas forem exibidas
            karaokeHighlight.classList.remove("active"); // Oculta a última linha
        }
    };
    
    // Inicia o loop das letras com um atraso inicial
    showNextLyricLine(); // Exibe a primeira linha imediatamente
    lyricsInterval = setInterval(showNextLyricLine, 4000); // Intervalo de 4 segundos para cada linha
}

// Event listeners para os botões "Anterior" e "Próxima"
document.getElementById("prevBtn").addEventListener("click", () => {
    if (playerReady) {
        loadVibe(current - 1);
    }
});

document.getElementById("nextBtn").addEventListener("click", () => {
    if (playerReady) {
        loadVibe(current + 1);
    }
});
</script>
</body>
</html>
